@page "/contacts/create"
@using BlazorAppWithJWT.Models
@using BlazorAppWithJWT.Services
@using Microsoft.AspNetCore.Authorization
@attribute [Authorize]
@rendermode InteractiveServer

@inject ContactService ContactService
@inject NavigationManager Navigation

<h3>Create Contact</h3>

<input @bind="model.FirstName" />
<input @bind="model.LastName" />
<input @bind="model.Email" />
<input @bind="model.Phone" />

<button @onclick="Save">Save</button>

@code {
    private ContactFormModel model = new();

    private async Task Save()
    {
        await ContactService.CreateAsync(model);
        Navigation.NavigateTo("/contacts");
    }
}
